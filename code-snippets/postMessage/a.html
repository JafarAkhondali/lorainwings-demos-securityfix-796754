<h1>a.html</h1>

<iframe id="iframe" src="http://10.242.168.52:8082/code-segment/postMessage/b.html" style="display:none;"></iframe>
<script>
  var iframe = document.getElementById('iframe');
  iframe.onload = function () {
    var data = {
      name: 'aym',
    };
    // 向domain2传送跨域数据
    iframe.contentWindow.postMessage(JSON.stringify(data), '*');
  };

  // 接受domain2返回数据
  window.addEventListener(
    'message',
    function (e) {
      console.log('data from b.html ---> ', e.data);
    },
    false
  );
</script>
